
@{
    ViewData["Title"] = "Register3";
}

@using Crunch.ViewModels
@model RegisterViewModel
<section id="register-section">
    <div class="login-container2 " style=" background-color: white; ">
        <section class="progress-indicator ">
            <ul>
                <li class="current ">
                    <div class="step ">

                        <span class="no ">1</span>

                    </div>
                    <span class="label ">Gym membership</span>
                </li>
                <li class=" ">
                    <div class="step ">

                        <span class="no ">2</span>

                    </div>
                    <span class="label ">Personal details</span>
                </li>
                <li class=" ">
                    <div class="step ">
                        <span class="no ">3</span>
                    </div>
                    <span class="label ">Bank payment</span>
                </li>
                <li class=" ">
                    <div class="step ">
                        <span class="no ">4</span>
                    </div>
                    <span class="label ">Membership created</span>
                </li>
            </ul>
        </section>

        <div class="join ">
            <div class="header ">
                <div class="header-text ">
                    <div class="step ">
                        <span class="no ">3</span>
                    </div>
                    <div class="header-p ">
                        <p> Bank payment</p>
                    </div>
                </div>
            </div>
            <div class="foot ">
                <div class="inner " id="PaymentDetails">
                    <h3>Summary</h3>
                    <div class="ConfirmationTextContainer ">
                        <div class="payments ">
                            @{
                                Gym usersGym = Model.User.gym;

                                float price = usersGym.price;



                            }
                            <div class="flex ">
                                <p>Monthly membership fee</p>
                                <span>	£@usersGym.price</span>
                            </div>
                            @if (Model.User.premiumMemberShip == true)
                            {
                                price += 5;

                                <div class="flex ">
                                    <p>Premium</p>
                                    <span>£5</span>
                                </div>
                            }
                            <div class="flex blue ">
                                <p>Total first payment taken by debit / credit card  </p>
                                @{
                                    if (Model.User.promocode != null)
                                    {
                                        int discount = Model.User.promocode.discountPercent;
                                        price =price* ((100f - discount) / 100);
                                    }
                                }
                                <span>	£@price</span>

                            </div>
                        </div>
                        <p>Subsequent monthly payments by Direct Debit of <b>@price</b> will commence on <b>@DateTime.Now.ToString("d MMMM")</b>. Payments will then continue on or just after the same day of each month thereafter.</p>
                    </div>
                    <p>The company name which will appear on your bank statement against the Direct Debit will be The Gym Ltd.</p>

                    <p>You are able to cancel your membership at any time.</p>

                </div>
                <div class="payment-options">
                    <form id="payment-option" method="post" asp-action="Register3" asp-controller="Account">

                        <div class="radios" id="mobile-radios">
                            <div class="block">
                                <label asp-for="User.paymentOption">Pay with Card</label>
                                <input type="radio" asp-for="User.paymentOption" value="1">
                                <span class="tick"></span>
                            </div>
                            <div class="block">
                                <label asp-for="User.paymentOption">Pay with Paypall</label>
                                <input type="radio" asp-for="User.paymentOption" value="2">
                                <span class="tick"></span>
                            </div>
                            <div class="block">
                                <label asp-for="User.paymentOption">Pay on the spot</label>
                                <input type="radio" asp-for="User.paymentOption" value="3">
                                <span class="tick"></span>
                            </div>
                        </div>
                        <div class="pay-card">

                        </div>


                    </form>
                </div>
            </div>
        </div>
        <div class="next ">
            <button class="button" form="payment-option">NEXT</button>
        </div>
    </div>
</section>


